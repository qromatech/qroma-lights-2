"use strict";(self.webpackChunksite_www_qroma_project=self.webpackChunksite_www_qroma_project||[]).push([[2304],{2445:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>m,default:()=>g,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var o=t(7462),r=(t(7294),t(3905)),a=t(8490),s=t(2263);const i=()=>{const{siteConfig:e}=(0,s.Z)();return e.baseUrl+"qroma/versions/0.1.0/firmware/manifest-firmware.json"},l={title:"Install Device Firmware"},m="Install Device Firmware to ESP32",d={type:"mdx",permalink:"/qroma-lights-2/install-firmware",source:"@site/src/pages/install-firmware.md",title:"Install Device Firmware",description:"Installation of the firmware for qroma-lights-2 is easy to do using a Chrome or Edge desktop",frontMatter:{title:"Install Device Firmware"}},c=[],p={toc:c},u="wrapper";function g(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"install-device-firmware-to-esp32"},"Install Device Firmware to ESP32"),(0,r.kt)("p",null,"Installation of the firmware for qroma-lights-2 is easy to do using a Chrome or Edge desktop\nweb browser. Use a USB cable to connect your ESP32 board to your PC, then find the ESP32 board\nyou are using below and click the button to install."),(0,r.kt)("div",{title:"ESP32 Dev Board"},(0,r.kt)(a.p6,{label:"Install on ESP32 Dev Board",instructionsText:"Plug your ESP32 Dev board into your computer's USB port and click the button below to install the firmware onto your ESP32 device.",manifestPath:i(),mdxType:"EspWebInstallButton"})),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("a",{href:"https://esphome.github.io/esp-web-tools/"},"ESP Web Tools")," is used to install firmware via WebSerial. The installer button uses a ",(0,r.kt)("a",{href:i(),target:""},"manifest file ")," to know which files should be installed for its board.")}g.isMDXComponent=!0},8834:(e,n,t)=>{t.d(n,{aG:()=>z,gK:()=>_});var o=t(299),r=t(4548),a=t(3712),s=t(6116);let i,l;!function(e){e[e.MathOp_NotSet=0]="MathOp_NotSet",e[e.MathOp_Add=1]="MathOp_Add",e[e.MathOp_Subtract=2]="MathOp_Subtract",e[e.MathOp_Add_And_Subtract=3]="MathOp_Add_And_Subtract"}(i||(i={})),function(e){e[e.UpdateType_NotSet=0]="UpdateType_NotSet",e[e.UpdateType_None=1]="UpdateType_None",e[e.UpdateType_Interval=2]="UpdateType_Interval",e[e.UpdateType_ProgressIndicator=3]="UpdateType_ProgressIndicator"}(l||(l={}));class m extends s.C{constructor(){super("HelloQromaRequest",[{no:1,name:"name",kind:"scalar",T:9}])}create(e){const n={name:""};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.name=e.string();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){""!==e.name&&n.tag(1,o.TD.LengthDelimited).string(e.name);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const d=new m;class c extends s.C{constructor(){super("HelloQromaResponse",[{no:1,name:"response",kind:"scalar",T:9},{no:2,name:"callCount",kind:"scalar",T:13},{no:3,name:"nameLength",kind:"scalar",T:13}])}create(e){const n={response:"",callCount:0,nameLength:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.response=e.string();break;case 2:a.callCount=e.uint32();break;case 3:a.nameLength=e.uint32();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){""!==e.response&&n.tag(1,o.TD.LengthDelimited).string(e.response),0!==e.callCount&&n.tag(2,o.TD.Varint).uint32(e.callCount),0!==e.nameLength&&n.tag(3,o.TD.Varint).uint32(e.nameLength);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const p=new c;class u extends s.C{constructor(){super("MathRequest",[{no:1,name:"a",kind:"scalar",T:13},{no:2,name:"b",kind:"scalar",T:13},{no:3,name:"op",kind:"enum",T:()=>["MathOperation",i]}])}create(e){const n={a:0,b:0,op:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.a=e.uint32();break;case 2:a.b=e.uint32();break;case 3:a.op=e.int32();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.a&&n.tag(1,o.TD.Varint).uint32(e.a),0!==e.b&&n.tag(2,o.TD.Varint).uint32(e.b),0!==e.op&&n.tag(3,o.TD.Varint).int32(e.op);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const g=new u;class f extends s.C{constructor(){super("MathResult_Add",[{no:1,name:"result",kind:"scalar",T:13}])}create(e){const n={result:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.result=e.uint32();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.result&&n.tag(1,o.TD.Varint).uint32(e.result);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const h=new f;class y extends s.C{constructor(){super("MathResult_Subtract",[{no:1,name:"result",kind:"scalar",T:13}])}create(e){const n={result:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.result=e.uint32();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.result&&n.tag(1,o.TD.Varint).uint32(e.result);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const w=new y;class C extends s.C{constructor(){super("MathResult_AddAndSubtract",[{no:1,name:"addResult",kind:"scalar",T:13},{no:2,name:"subtractResult",kind:"scalar",T:13}])}create(e){const n={addResult:0,subtractResult:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.addResult=e.uint32();break;case 2:a.subtractResult=e.uint32();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.addResult&&n.tag(1,o.TD.Varint).uint32(e.addResult),0!==e.subtractResult&&n.tag(2,o.TD.Varint).uint32(e.subtractResult);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const T=new C;class k extends s.C{constructor(){super("MathResponse",[{no:1,name:"addResult",kind:"message",oneof:"response",T:()=>h},{no:2,name:"subtractResult",kind:"message",oneof:"response",T:()=>w},{no:3,name:"addAndSubtractResult",kind:"message",oneof:"response",T:()=>T}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.response={oneofKind:"addResult",addResult:h.internalBinaryRead(e,e.uint32(),t,a.response.addResult)};break;case 2:a.response={oneofKind:"subtractResult",subtractResult:w.internalBinaryRead(e,e.uint32(),t,a.response.subtractResult)};break;case 3:a.response={oneofKind:"addAndSubtractResult",addAndSubtractResult:T.internalBinaryRead(e,e.uint32(),t,a.response.addAndSubtractResult)};break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){"addResult"===e.response.oneofKind&&h.internalBinaryWrite(e.response.addResult,n.tag(1,o.TD.LengthDelimited).fork(),t).join(),"subtractResult"===e.response.oneofKind&&w.internalBinaryWrite(e.response.subtractResult,n.tag(2,o.TD.LengthDelimited).fork(),t).join(),"addAndSubtractResult"===e.response.oneofKind&&T.internalBinaryWrite(e.response.addAndSubtractResult,n.tag(3,o.TD.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const R=new k;class b extends s.C{constructor(){super("SetUpdateConfiguration",[{no:1,name:"updateType",kind:"enum",T:()=>["UpdateType",l]},{no:2,name:"updateIntervalInMs",kind:"scalar",T:13}])}create(e){const n={updateType:0,updateIntervalInMs:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.updateType=e.int32();break;case 2:a.updateIntervalInMs=e.uint32();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.updateType&&n.tag(1,o.TD.Varint).int32(e.updateType),0!==e.updateIntervalInMs&&n.tag(2,o.TD.Varint).uint32(e.updateIntervalInMs);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const D=new b;class E extends s.C{constructor(){super("SetUpdateConfigurationResponse",[{no:1,name:"success",kind:"scalar",T:8}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.success=e.bool();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.TD.Varint).bool(e.success);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const N=new E;class F extends s.C{constructor(){super("SetUpdateProgressIndicator",[{no:1,name:"indicatorChars",kind:"scalar",T:9}])}create(e){const n={indicatorChars:""};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.indicatorChars=e.string();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){""!==e.indicatorChars&&n.tag(1,o.TD.LengthDelimited).string(e.indicatorChars);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const B=new F;class S extends s.C{constructor(){super("SetUpdateProgressIndicatorResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"statusMessage",kind:"scalar",T:9}])}create(e){const n={success:!1,statusMessage:""};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.success=e.bool();break;case 2:a.statusMessage=e.string();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,o.TD.Varint).bool(e.success),""!==e.statusMessage&&n.tag(2,o.TD.LengthDelimited).string(e.statusMessage);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const U=new S;class I extends s.C{constructor(){super("UptimeUpdateResponse",[{no:1,name:"uptime",kind:"scalar",T:13}])}create(e){const n={uptime:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.uptime=e.uint32();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.uptime&&n.tag(1,o.TD.Varint).uint32(e.uptime);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const v=new I;class W extends s.C{constructor(){super("ProgressIndicatorUpdateResponse",[{no:1,name:"progressIndicator",kind:"scalar",T:9}])}create(e){const n={progressIndicator:""};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.progressIndicator=e.string();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){""!==e.progressIndicator&&n.tag(1,o.TD.LengthDelimited).string(e.progressIndicator);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const L=new W;class P extends s.C{constructor(){super("UpdateResponse",[{no:1,name:"uptimeUpdateResponse",kind:"message",oneof:"update",T:()=>v},{no:2,name:"progressIndicatorUpdateResponse",kind:"message",oneof:"update",T:()=>L}])}create(e){const n={update:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.update={oneofKind:"uptimeUpdateResponse",uptimeUpdateResponse:v.internalBinaryRead(e,e.uint32(),t,a.update.uptimeUpdateResponse)};break;case 2:a.update={oneofKind:"progressIndicatorUpdateResponse",progressIndicatorUpdateResponse:L.internalBinaryRead(e,e.uint32(),t,a.update.progressIndicatorUpdateResponse)};break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){"uptimeUpdateResponse"===e.update.oneofKind&&v.internalBinaryWrite(e.update.uptimeUpdateResponse,n.tag(1,o.TD.LengthDelimited).fork(),t).join(),"progressIndicatorUpdateResponse"===e.update.oneofKind&&L.internalBinaryWrite(e.update.progressIndicatorUpdateResponse,n.tag(2,o.TD.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const O=new P;class $ extends s.C{constructor(){super("PingRequest",[{no:1,name:"pingId",kind:"scalar",T:13}])}create(e){const n={pingId:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();if(1===n)a.pingId=e.uint32();else{let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.pingId&&n.tag(1,o.TD.Varint).uint32(e.pingId);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const M=new $;class x extends s.C{constructor(){super("PingResponse",[{no:1,name:"pingId",kind:"scalar",T:13},{no:2,name:"uptime",kind:"scalar",T:13}])}create(e){const n={pingId:0,uptime:0};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.pingId=e.uint32();break;case 2:a.uptime=e.uint32();break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){0!==e.pingId&&n.tag(1,o.TD.Varint).uint32(e.pingId),0!==e.uptime&&n.tag(2,o.TD.Varint).uint32(e.uptime);let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const A=new x;class K extends s.C{constructor(){super("MyAppCommand",[{no:1,name:"helloQromaRequest",kind:"message",oneof:"command",T:()=>d},{no:2,name:"mathRequest",kind:"message",oneof:"command",T:()=>g},{no:3,name:"setUpdateConfiguration",kind:"message",oneof:"command",T:()=>D},{no:4,name:"setUpdateProgressIndicator",kind:"message",oneof:"command",T:()=>B},{no:5,name:"pingRequest",kind:"message",oneof:"command",T:()=>M}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.command={oneofKind:"helloQromaRequest",helloQromaRequest:d.internalBinaryRead(e,e.uint32(),t,a.command.helloQromaRequest)};break;case 2:a.command={oneofKind:"mathRequest",mathRequest:g.internalBinaryRead(e,e.uint32(),t,a.command.mathRequest)};break;case 3:a.command={oneofKind:"setUpdateConfiguration",setUpdateConfiguration:D.internalBinaryRead(e,e.uint32(),t,a.command.setUpdateConfiguration)};break;case 4:a.command={oneofKind:"setUpdateProgressIndicator",setUpdateProgressIndicator:B.internalBinaryRead(e,e.uint32(),t,a.command.setUpdateProgressIndicator)};break;case 5:a.command={oneofKind:"pingRequest",pingRequest:M.internalBinaryRead(e,e.uint32(),t,a.command.pingRequest)};break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){"helloQromaRequest"===e.command.oneofKind&&d.internalBinaryWrite(e.command.helloQromaRequest,n.tag(1,o.TD.LengthDelimited).fork(),t).join(),"mathRequest"===e.command.oneofKind&&g.internalBinaryWrite(e.command.mathRequest,n.tag(2,o.TD.LengthDelimited).fork(),t).join(),"setUpdateConfiguration"===e.command.oneofKind&&D.internalBinaryWrite(e.command.setUpdateConfiguration,n.tag(3,o.TD.LengthDelimited).fork(),t).join(),"setUpdateProgressIndicator"===e.command.oneofKind&&B.internalBinaryWrite(e.command.setUpdateProgressIndicator,n.tag(4,o.TD.LengthDelimited).fork(),t).join(),"pingRequest"===e.command.oneofKind&&M.internalBinaryWrite(e.command.pingRequest,n.tag(5,o.TD.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const z=new K;class j extends s.C{constructor(){super("MyAppResponse",[{no:1,name:"helloQromaResponse",kind:"message",oneof:"response",T:()=>p},{no:2,name:"mathResponse",kind:"message",oneof:"response",T:()=>R},{no:3,name:"setUpdateConfigurationResponse",kind:"message",oneof:"response",T:()=>N},{no:4,name:"setUpdateProgressIndicatorResponse",kind:"message",oneof:"response",T:()=>U},{no:5,name:"pingResponse",kind:"message",oneof:"response",T:()=>A},{no:6,name:"update",kind:"message",oneof:"response",T:()=>O}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,n,e),n}internalBinaryRead(e,n,t,r){let a=r??this.create(),s=e.pos+n;for(;e.pos<s;){let[n,r]=e.tag();switch(n){case 1:a.response={oneofKind:"helloQromaResponse",helloQromaResponse:p.internalBinaryRead(e,e.uint32(),t,a.response.helloQromaResponse)};break;case 2:a.response={oneofKind:"mathResponse",mathResponse:R.internalBinaryRead(e,e.uint32(),t,a.response.mathResponse)};break;case 3:a.response={oneofKind:"setUpdateConfigurationResponse",setUpdateConfigurationResponse:N.internalBinaryRead(e,e.uint32(),t,a.response.setUpdateConfigurationResponse)};break;case 4:a.response={oneofKind:"setUpdateProgressIndicatorResponse",setUpdateProgressIndicatorResponse:U.internalBinaryRead(e,e.uint32(),t,a.response.setUpdateProgressIndicatorResponse)};break;case 5:a.response={oneofKind:"pingResponse",pingResponse:A.internalBinaryRead(e,e.uint32(),t,a.response.pingResponse)};break;case 6:a.response={oneofKind:"update",update:O.internalBinaryRead(e,e.uint32(),t,a.response.update)};break;default:let s=t.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${n} (wire type ${r}) for ${this.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?o.z.onRead:s)(this.typeName,a,n,r,i)}}return a}internalBinaryWrite(e,n,t){"helloQromaResponse"===e.response.oneofKind&&p.internalBinaryWrite(e.response.helloQromaResponse,n.tag(1,o.TD.LengthDelimited).fork(),t).join(),"mathResponse"===e.response.oneofKind&&R.internalBinaryWrite(e.response.mathResponse,n.tag(2,o.TD.LengthDelimited).fork(),t).join(),"setUpdateConfigurationResponse"===e.response.oneofKind&&N.internalBinaryWrite(e.response.setUpdateConfigurationResponse,n.tag(3,o.TD.LengthDelimited).fork(),t).join(),"setUpdateProgressIndicatorResponse"===e.response.oneofKind&&U.internalBinaryWrite(e.response.setUpdateProgressIndicatorResponse,n.tag(4,o.TD.LengthDelimited).fork(),t).join(),"pingResponse"===e.response.oneofKind&&A.internalBinaryWrite(e.response.pingResponse,n.tag(5,o.TD.LengthDelimited).fork(),t).join(),"update"===e.response.oneofKind&&O.internalBinaryWrite(e.response.update,n.tag(6,o.TD.LengthDelimited).fork(),t).join();let r=t.writeUnknownFields;return!1!==r&&(1==r?o.z.onWrite:r)(this.typeName,e,n),n}}const _=new j},8490:(e,n,t)=>{t.d(n,{p6:()=>r,pd:()=>Me,x1:()=>_e,fz:()=>xe,QF:()=>Ne,SH:()=>Ue});var o=t(7294);const r=e=>{const n=o.createElement("div",{slot:"activate",key:"activate"},o.createElement("button",{color:"primary"},e.label)),t=o.createElement("span",{slot:"unsupported",key:"unsupported"},"Sorry - your browser isn't supported. You will need to use Google Chrome or Microsoft Edge to connect or install instead."),r=o.createElement("span",{slot:"not-allowed",key:"not-allowed"},"Not allowed on HTTP (requires HTTPS connection)"),a=o.createElement("esp-web-install-button",{manifest:e.manifestPath,children:[n,t,r]});return o.createElement(o.Fragment,null,o.createElement("p",null,e.instructionsText),a)};var a=t(889);const s=e=>{let{obj:n}=e;return o.createElement("ul",null,Object.entries(n).map((e=>{let[n,t]=e;return o.createElement("li",{key:n},o.createElement(l,{name:n,value:t,key:n}))})))},i=e=>{let{arr:n}=e;return o.createElement("li",null,n.map(((e,n)=>o.createElement(l,{name:n.toString(),value:e}))))},l=e=>{let{name:n,value:t}=e;switch((0,a.Z)(t)){case"object":return o.createElement(o.Fragment,null,n,o.createElement(s,{obj:t}));case"array":return o.createElement(o.Fragment,null,n,o.createElement(i,{arr:t}))}return o.createElement(o.Fragment,null,o.createElement("div",null,n,": ",t?.valueOf().toString()))},m=e=>{const n=e.messageType.toJson(e.messageData);return n?o.createElement(l,{name:"",value:n}):o.createElement("div",null,"Invalid data to convert to JSON for ",e.messageType.typeName)};var d=t(8764),c=t(6028);const p=e=>{const n=e.field;if("scalar"!==n.kind)return o.createElement("div",null,"Non-scalar input field provided: ",n.name);return o.createElement("div",null,n.name," [",(e=>{switch(e){case c.wx.DOUBLE:return"double";case c.wx.FLOAT:return"float";case c.wx.INT64:return"int64";case c.wx.UINT64:return"uint64";case c.wx.INT32:return"int32";case c.wx.FIXED64:return"fixed64";case c.wx.FIXED32:return"fixed32";case c.wx.BOOL:return"bool";case c.wx.STRING:return"string";case c.wx.BYTES:return"bytes";case c.wx.UINT32:return"uint32";case c.wx.SFIXED32:return"sfixed32";case c.wx.SFIXED64:return"sfixed64";case c.wx.SINT32:return"sint32";case c.wx.SINT64:return"sint64"}})(n.T),"] ",o.createElement("input",{onChange:t=>{const o=((e,n)=>{switch(e){case c.wx.STRING:return n;case c.wx.FLOAT:case c.wx.DOUBLE:return parseFloat(n);case c.wx.UINT32:case c.wx.INT64:case c.wx.UINT64:case c.wx.INT32:case c.wx.FIXED64:case c.wx.FIXED32:case c.wx.SFIXED32:case c.wx.SFIXED64:case c.wx.SINT32:case c.wx.SINT64:return parseInt(n);case c.wx.BOOL:return"false"!==n.toLowerCase()}})(n.T,t.target.value);e.onChange(n,o)}}))},u=e=>{const n=e.enumInfo[1],t=[];for(const o in n)try{if(Number.isNaN(parseInt(o)))continue;const e=parseInt(o),r=n[e];t.push({enumInt:e,valueName:r})}catch(s){}const[r,a]=(0,o.useState)(t[0].valueName);return o.createElement("select",{value:r,onChange:n=>{const t=n.target.value;console.log(t),console.log("NEW VALUE: "+t),a(t),e.onChange(t)}},t.map((e=>o.createElement("option",{key:e.valueName,value:e.valueName},e.valueName))))},g=e=>{const n=e.field;if("enum"!==n.kind)return o.createElement("div",null,"Non-enum input field provided: ",n.name);const t=n.T();return o.createElement("div",null,n.name," [",n.kind,": ",t[0],"]",o.createElement(u,{enumInfo:t,onChange:t=>{e.onChange(n,t)}}))},f=e=>{const n=e.field;switch(n.kind){case"scalar":return o.createElement(p,{field:n,onChange:e.onChange});case"enum":return o.createElement(g,{field:n,onChange:e.onChange});case"message":const t=(t,o)=>{console.log("SUBMESSAGE CHANGE: "+t.name),console.log(o),e.onChange(n,o)};return o.createElement(w,{requestMessageType:n.T(),messageName:n.name,typeName:n.T().typeName,fields:n.T().fields,onChange:t})}return o.createElement("div",null,"UNCLASSIFIED: ",n.name," [",n.kind,"] - [",n.oneof,"]")},h=e=>{console.log("ONE OF FIELDS"),console.log(e.oneofFields),console.log(e.oneofGroup);const[n,t]=(0,o.useState)(e.oneofFields[0].name);console.log(n);console.log("OOG"),console.log(e.oneofGroup),console.log(n);const r=o.createElement("select",{value:n,onChange:o=>{const r=o.target.value;console.log(r),console.log("NEW VALUE: "+r),e.clearParentFieldValue(n),t(r)}},e.oneofGroup.oneofFields.map((e=>o.createElement("option",{key:e.name,value:e.name},e.name)))),a=e.oneofFields.find((e=>e.name===n));return console.log("selectedOneofGroupFields"),console.log(a),o.createElement(o.Fragment,null,e.oneofName," [oneof]",r,void 0===a?void 0:o.createElement(o.Fragment,null,o.createElement(f,{field:a,onChange:(t,o)=>{console.log("onOneofFieldsChange"),console.log(t),console.log(o);const r=e.oneofGroup.oneofFields.find((e=>e.name===n));console.log(r),console.log(e.oneofGroup);const a={[n]:o};console.log("ONE OF TO UPDATE"),console.log(a),console.log(e.oneofGroup.parentGroupField),console.log(r),e.onChange(r,o)},key:a.name})))},y=e=>{const n=e.fields,t=n.filter((e=>e.oneof)),r=n.filter((e=>!e.oneof)),a=new Map;for(var s of t){const e=s.oneof;a.has(e)?a.get(e).push(s):a.set(e,[s])}console.log("ONE OF GROUPS"),console.log(t);const i=[];for(let[o,m]of a)console.log(o),i.push({parentGroupField:t.find((e=>e.oneof===o)),oneofFieldName:o,oneofFields:m});const l=new Map;return i.forEach((e=>{l.set(e.oneofFieldName,e.oneofFields[0].name)})),o.createElement("div",null,o.createElement("ul",null,i.map((n=>o.createElement(h,{oneofGroup:n,oneofName:n.oneofFieldName,oneofFields:n.oneofFields,onChange:e.onChange,key:n.oneofFieldName,clearParentFieldValue:e.clearParentFieldValue})))),o.createElement("ul",null,r.map((n=>o.createElement(f,{field:n,onChange:e.onChange,key:n.name})))))},w=e=>{const[n,t]=(0,o.useState)(e.requestMessageType.toJson(e.requestMessageType.create()));return o.createElement("div",null,e.messageName," [",e.typeName,"] +++",o.createElement(y,{messageTypeName:e.typeName,fields:e.fields,onChange:(o,r)=>{console.log("onMessageInputChange - New value!!! "),console.log(o),console.log(r);const a=JSON.parse(JSON.stringify(n));console.log(n),a[o.name]=r,t(a),console.log(a),e.onChange(o,a)},onOneofChange:(e,n,t)=>{console.log("MessageInputComponent - onOneof"),console.log(e),console.log(n),console.log(t)},clearParentFieldValue:e=>{if(console.log("IN clearParentFieldValue"),console.log(e),console.log(n),null!==n){const{[e]:o,...r}=n;t(r),console.log(r)}}}))};t(8834);var C=t(299),T=t(4548),k=t(3712),R=t(6116);let b,D,E;!function(e){e[e.DIT_NOT_SET=0]="DIT_NOT_SET",e[e.DIT_FILE=1]="DIT_FILE",e[e.DIT_DIR=2]="DIT_DIR"}(b||(b={})),function(e){e[e.GFSC_NOT_SET=0]="GFSC_NOT_SET",e[e.GFSC_SUCCESS=1]="GFSC_SUCCESS",e[e.GFSC_ERR_OPEN_FILE=2]="GFSC_ERR_OPEN_FILE",e[e.GFSC_ERR_INVALID_FILE=3]="GFSC_ERR_INVALID_FILE"}(D||(D={})),function(e){e[e.WFDSC_NOT_SET=0]="WFDSC_NOT_SET",e[e.WFDSC_SUCCESS=1]="WFDSC_SUCCESS",e[e.WFDSC_ERR_OPEN_FILE=2]="WFDSC_ERR_OPEN_FILE",e[e.WFDSC_ERR_CRC_MISMATCH=3]="WFDSC_ERR_CRC_MISMATCH"}(E||(E={}));class N extends R.C{constructor(){super("DirItem",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"dirItemType",kind:"enum",T:()=>["DirItemType",b]},{no:3,name:"filesize",kind:"scalar",T:13}])}create(e){const n={name:"",dirItemType:0,filesize:0};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.name=e.string();break;case 2:r.dirItemType=e.int32();break;case 3:r.filesize=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.name&&n.tag(1,C.TD.LengthDelimited).string(e.name),0!==e.dirItemType&&n.tag(2,C.TD.Varint).int32(e.dirItemType),0!==e.filesize&&n.tag(3,C.TD.Varint).uint32(e.filesize);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const F=new N;class B extends R.C{constructor(){super("FileData",[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"filesize",kind:"scalar",T:13},{no:3,name:"checksum",kind:"scalar",T:13}])}create(e){const n={filename:"",filesize:0,checksum:0};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.filename=e.string();break;case 2:r.filesize=e.uint32();break;case 3:r.checksum=e.uint32();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.filename&&n.tag(1,C.TD.LengthDelimited).string(e.filename),0!==e.filesize&&n.tag(2,C.TD.Varint).uint32(e.filesize),0!==e.checksum&&n.tag(3,C.TD.Varint).uint32(e.checksum);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const S=new B;class U extends R.C{constructor(){super("StoreUpcomingFileDataCommand",[{no:1,name:"fileData",kind:"message",T:()=>S}])}create(e){const n={};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.fileData=S.internalBinaryRead(e,e.uint32(),t,r.fileData);else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){e.fileData&&S.internalBinaryWrite(e.fileData,n.tag(1,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}new U;class I extends R.C{constructor(){super("StoreUpcomingFileDataResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"bytesWritten",kind:"scalar",T:13},{no:3,name:"command",kind:"message",T:()=>S}])}create(e){const n={success:!1,bytesWritten:0};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.bytesWritten=e.uint32();break;case 3:r.command=S.internalBinaryRead(e,e.uint32(),t,r.command);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,C.TD.Varint).bool(e.success),0!==e.bytesWritten&&n.tag(2,C.TD.Varint).uint32(e.bytesWritten),e.command&&S.internalBinaryWrite(e.command,n.tag(3,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}new I;class v extends R.C{constructor(){super("RmFileCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.filePath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,C.TD.LengthDelimited).string(e.filePath);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const W=new v;class L extends R.C{constructor(){super("RmFileResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmFileCommand",kind:"message",T:()=>W}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.rmFileCommand=W.internalBinaryRead(e,e.uint32(),t,r.rmFileCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,C.TD.Varint).bool(e.success),e.rmFileCommand&&W.internalBinaryWrite(e.rmFileCommand,n.tag(2,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const P=new L;class O extends R.C{constructor(){super("RmDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,C.TD.LengthDelimited).string(e.dirPath);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const $=new O;class M extends R.C{constructor(){super("RmDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"rmDirCommand",kind:"message",T:()=>$}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.rmDirCommand=$.internalBinaryRead(e,e.uint32(),t,r.rmDirCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,C.TD.Varint).bool(e.success),e.rmDirCommand&&$.internalBinaryWrite(e.rmDirCommand,n.tag(2,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const x=new M;class A extends R.C{constructor(){super("MkDirCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,C.TD.LengthDelimited).string(e.dirPath);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const K=new A;class z extends R.C{constructor(){super("MkDirResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"mkDirCommand",kind:"message",T:()=>K}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.success=e.bool();break;case 2:r.mkDirCommand=K.internalBinaryRead(e,e.uint32(),t,r.mkDirCommand);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,C.TD.Varint).bool(e.success),e.mkDirCommand&&K.internalBinaryWrite(e.mkDirCommand,n.tag(2,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const j=new z;class _ extends R.C{constructor(){super("ReportFileDataCommand",[{no:1,name:"filename",kind:"scalar",T:9}])}create(e){const n={filename:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.filename=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.filename&&n.tag(1,C.TD.LengthDelimited).string(e.filename);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const q=new _;class Q extends R.C{constructor(){super("ReportFileDataResponse",[{no:1,name:"fileExists",kind:"scalar",T:8},{no:2,name:"fileData",kind:"message",T:()=>S}])}create(e){const n={fileExists:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.fileExists=e.bool();break;case 2:r.fileData=S.internalBinaryRead(e,e.uint32(),t,r.fileData);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.fileExists&&n.tag(1,C.TD.Varint).bool(e.fileExists),e.fileData&&S.internalBinaryWrite(e.fileData,n.tag(2,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const G=new Q;class V extends R.C{constructor(){super("ListDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"startsWithConstraint",kind:"scalar",T:9},{no:3,name:"endsWithConstraint",kind:"scalar",T:9}])}create(e){const n={dirPath:"",startsWithConstraint:"",endsWithConstraint:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.dirPath=e.string();break;case 2:r.startsWithConstraint=e.string();break;case 3:r.endsWithConstraint=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,C.TD.LengthDelimited).string(e.dirPath),""!==e.startsWithConstraint&&n.tag(2,C.TD.LengthDelimited).string(e.startsWithConstraint),""!==e.endsWithConstraint&&n.tag(3,C.TD.LengthDelimited).string(e.endsWithConstraint);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const J=new V;class X extends R.C{constructor(){super("ListDirContentsResponse",[{no:1,name:"dirPath",kind:"scalar",T:9},{no:2,name:"success",kind:"scalar",T:8},{no:3,name:"dirItems",kind:"message",repeat:1,T:()=>F}])}create(e){const n={dirPath:"",success:!1,dirItems:[]};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.dirPath=e.string();break;case 2:r.success=e.bool();break;case 3:r.dirItems.push(F.internalBinaryRead(e,e.uint32(),t));break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,C.TD.LengthDelimited).string(e.dirPath),!1!==e.success&&n.tag(2,C.TD.Varint).bool(e.success);for(let r=0;r<e.dirItems.length;r++)F.internalBinaryWrite(e.dirItems[r],n.tag(3,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const H=new X;class Y extends R.C{constructor(){super("PrintDirContentsCommand",[{no:1,name:"dirPath",kind:"scalar",T:9}])}create(e){const n={dirPath:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.dirPath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.dirPath&&n.tag(1,C.TD.LengthDelimited).string(e.dirPath);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}new Y;class Z extends R.C{constructor(){super("ResetFilesystemCommand",[{no:1,name:"dummy",kind:"scalar",T:8}])}create(e){const n={dummy:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.dummy=e.bool();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.dummy&&n.tag(1,C.TD.Varint).bool(e.dummy);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const ee=new Z;class ne extends R.C{constructor(){super("ResetFilesystemResponse",[{no:1,name:"success",kind:"scalar",T:8}])}create(e){const n={success:!1};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.success=e.bool();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){!1!==e.success&&n.tag(1,C.TD.Varint).bool(e.success);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const te=new ne;class oe extends R.C{constructor(){super("GetFileContentsCommand",[{no:1,name:"filePath",kind:"scalar",T:9}])}create(e){const n={filePath:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.filePath=e.string();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){""!==e.filePath&&n.tag(1,C.TD.LengthDelimited).string(e.filePath);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const re=new oe;class ae extends R.C{constructor(){super("GetFileContentsResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["GetFileStatusCode",D]},{no:2,name:"fileData",kind:"message",T:()=>S},{no:3,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={statusCode:0,fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.statusCode=e.int32();break;case 2:r.fileData=S.internalBinaryRead(e,e.uint32(),t,r.fileData);break;case 3:r.fileBytes=e.bytes();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){0!==e.statusCode&&n.tag(1,C.TD.Varint).int32(e.statusCode),e.fileData&&S.internalBinaryWrite(e.fileData,n.tag(2,C.TD.LengthDelimited).fork(),t).join(),e.fileBytes.length&&n.tag(3,C.TD.LengthDelimited).bytes(e.fileBytes);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const se=new ae;class ie extends R.C{constructor(){super("WriteFileDataCommand",[{no:1,name:"fileData",kind:"message",T:()=>S},{no:2,name:"fileBytes",kind:"scalar",T:12}])}create(e){const n={fileBytes:new Uint8Array(0)};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.fileData=S.internalBinaryRead(e,e.uint32(),t,r.fileData);break;case 2:r.fileBytes=e.bytes();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){e.fileData&&S.internalBinaryWrite(e.fileData,n.tag(1,C.TD.LengthDelimited).fork(),t).join(),e.fileBytes.length&&n.tag(2,C.TD.LengthDelimited).bytes(e.fileBytes);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const le=new ie;class me extends R.C{constructor(){super("WriteFileDataResponse",[{no:1,name:"statusCode",kind:"enum",T:()=>["WriteFileDataStatusCode",E]},{no:2,name:"command",kind:"message",T:()=>S}])}create(e){const n={statusCode:0};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.statusCode=e.int32();break;case 2:r.command=S.internalBinaryRead(e,e.uint32(),t,r.command);break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){0!==e.statusCode&&n.tag(1,C.TD.Varint).int32(e.statusCode),e.command&&S.internalBinaryWrite(e.command,n.tag(2,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const de=new me;class ce extends R.C{constructor(){super("FileSystemCommand",[{no:1,name:"getFileContentsCommand",kind:"message",oneof:"command",T:()=>re},{no:2,name:"writeFileDataCommand",kind:"message",oneof:"command",T:()=>le},{no:4,name:"reportFileDataCommand",kind:"message",oneof:"command",T:()=>q},{no:5,name:"rmFileCommand",kind:"message",oneof:"command",T:()=>W},{no:9,name:"listDirContentsCommand",kind:"message",oneof:"command",T:()=>J},{no:10,name:"mkDirCommand",kind:"message",oneof:"command",T:()=>K},{no:11,name:"rmDirCommand",kind:"message",oneof:"command",T:()=>$},{no:15,name:"resetFilesystemCommand",kind:"message",oneof:"command",T:()=>ee}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.command={oneofKind:"getFileContentsCommand",getFileContentsCommand:re.internalBinaryRead(e,e.uint32(),t,r.command.getFileContentsCommand)};break;case 2:r.command={oneofKind:"writeFileDataCommand",writeFileDataCommand:le.internalBinaryRead(e,e.uint32(),t,r.command.writeFileDataCommand)};break;case 4:r.command={oneofKind:"reportFileDataCommand",reportFileDataCommand:q.internalBinaryRead(e,e.uint32(),t,r.command.reportFileDataCommand)};break;case 5:r.command={oneofKind:"rmFileCommand",rmFileCommand:W.internalBinaryRead(e,e.uint32(),t,r.command.rmFileCommand)};break;case 9:r.command={oneofKind:"listDirContentsCommand",listDirContentsCommand:J.internalBinaryRead(e,e.uint32(),t,r.command.listDirContentsCommand)};break;case 10:r.command={oneofKind:"mkDirCommand",mkDirCommand:K.internalBinaryRead(e,e.uint32(),t,r.command.mkDirCommand)};break;case 11:r.command={oneofKind:"rmDirCommand",rmDirCommand:$.internalBinaryRead(e,e.uint32(),t,r.command.rmDirCommand)};break;case 15:r.command={oneofKind:"resetFilesystemCommand",resetFilesystemCommand:ee.internalBinaryRead(e,e.uint32(),t,r.command.resetFilesystemCommand)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){"getFileContentsCommand"===e.command.oneofKind&&re.internalBinaryWrite(e.command.getFileContentsCommand,n.tag(1,C.TD.LengthDelimited).fork(),t).join(),"writeFileDataCommand"===e.command.oneofKind&&le.internalBinaryWrite(e.command.writeFileDataCommand,n.tag(2,C.TD.LengthDelimited).fork(),t).join(),"reportFileDataCommand"===e.command.oneofKind&&q.internalBinaryWrite(e.command.reportFileDataCommand,n.tag(4,C.TD.LengthDelimited).fork(),t).join(),"rmFileCommand"===e.command.oneofKind&&W.internalBinaryWrite(e.command.rmFileCommand,n.tag(5,C.TD.LengthDelimited).fork(),t).join(),"listDirContentsCommand"===e.command.oneofKind&&J.internalBinaryWrite(e.command.listDirContentsCommand,n.tag(9,C.TD.LengthDelimited).fork(),t).join(),"mkDirCommand"===e.command.oneofKind&&K.internalBinaryWrite(e.command.mkDirCommand,n.tag(10,C.TD.LengthDelimited).fork(),t).join(),"rmDirCommand"===e.command.oneofKind&&$.internalBinaryWrite(e.command.rmDirCommand,n.tag(11,C.TD.LengthDelimited).fork(),t).join(),"resetFilesystemCommand"===e.command.oneofKind&&ee.internalBinaryWrite(e.command.resetFilesystemCommand,n.tag(15,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const pe=new ce;class ue extends R.C{constructor(){super("FileSystemResponse",[{no:1,name:"getFileContentsResponse",kind:"message",oneof:"response",T:()=>se},{no:2,name:"writeFileDataResponse",kind:"message",oneof:"response",T:()=>de},{no:4,name:"reportFileDataResponse",kind:"message",oneof:"response",T:()=>G},{no:5,name:"rmFileCommand",kind:"message",oneof:"response",T:()=>P},{no:9,name:"listDirContentsResponse",kind:"message",oneof:"response",T:()=>H},{no:10,name:"mkDirResponse",kind:"message",oneof:"response",T:()=>j},{no:11,name:"rmDirResponse",kind:"message",oneof:"response",T:()=>x},{no:15,name:"resetFilesystemResponse",kind:"message",oneof:"response",T:()=>te}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.response={oneofKind:"getFileContentsResponse",getFileContentsResponse:se.internalBinaryRead(e,e.uint32(),t,r.response.getFileContentsResponse)};break;case 2:r.response={oneofKind:"writeFileDataResponse",writeFileDataResponse:de.internalBinaryRead(e,e.uint32(),t,r.response.writeFileDataResponse)};break;case 4:r.response={oneofKind:"reportFileDataResponse",reportFileDataResponse:G.internalBinaryRead(e,e.uint32(),t,r.response.reportFileDataResponse)};break;case 5:r.response={oneofKind:"rmFileCommand",rmFileCommand:P.internalBinaryRead(e,e.uint32(),t,r.response.rmFileCommand)};break;case 9:r.response={oneofKind:"listDirContentsResponse",listDirContentsResponse:H.internalBinaryRead(e,e.uint32(),t,r.response.listDirContentsResponse)};break;case 10:r.response={oneofKind:"mkDirResponse",mkDirResponse:j.internalBinaryRead(e,e.uint32(),t,r.response.mkDirResponse)};break;case 11:r.response={oneofKind:"rmDirResponse",rmDirResponse:x.internalBinaryRead(e,e.uint32(),t,r.response.rmDirResponse)};break;case 15:r.response={oneofKind:"resetFilesystemResponse",resetFilesystemResponse:te.internalBinaryRead(e,e.uint32(),t,r.response.resetFilesystemResponse)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){"getFileContentsResponse"===e.response.oneofKind&&se.internalBinaryWrite(e.response.getFileContentsResponse,n.tag(1,C.TD.LengthDelimited).fork(),t).join(),"writeFileDataResponse"===e.response.oneofKind&&de.internalBinaryWrite(e.response.writeFileDataResponse,n.tag(2,C.TD.LengthDelimited).fork(),t).join(),"reportFileDataResponse"===e.response.oneofKind&&G.internalBinaryWrite(e.response.reportFileDataResponse,n.tag(4,C.TD.LengthDelimited).fork(),t).join(),"rmFileCommand"===e.response.oneofKind&&P.internalBinaryWrite(e.response.rmFileCommand,n.tag(5,C.TD.LengthDelimited).fork(),t).join(),"listDirContentsResponse"===e.response.oneofKind&&H.internalBinaryWrite(e.response.listDirContentsResponse,n.tag(9,C.TD.LengthDelimited).fork(),t).join(),"mkDirResponse"===e.response.oneofKind&&j.internalBinaryWrite(e.response.mkDirResponse,n.tag(10,C.TD.LengthDelimited).fork(),t).join(),"rmDirResponse"===e.response.oneofKind&&x.internalBinaryWrite(e.response.rmDirResponse,n.tag(11,C.TD.LengthDelimited).fork(),t).join(),"resetFilesystemResponse"===e.response.oneofKind&&te.internalBinaryWrite(e.response.resetFilesystemResponse,n.tag(15,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const ge=new ue;let fe,he;!function(e){e[e.LogLevel_All=0]="LogLevel_All",e[e.LogLevel_Info=10]="LogLevel_Info",e[e.LogLevel_Error=100]="LogLevel_Error",e[e.LogLevel_Nothing=255]="LogLevel_Nothing"}(fe||(fe={})),function(e){e[e.DebugCommMode_NotSet=0]="DebugCommMode_NotSet",e[e.DebugCommMode_None=1]="DebugCommMode_None",e[e.DebugCommMode_SerialOnly=2]="DebugCommMode_SerialOnly",e[e.DebugCommMode_BluetoothOnly=3]="DebugCommMode_BluetoothOnly",e[e.DebugCommMode_SerialAndBluetooth=4]="DebugCommMode_SerialAndBluetooth"}(he||(he={}));class ye extends R.C{constructor(){super("Qroma_LogMessage",[{no:1,name:"tick",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9}])}create(e){const n={tick:0,message:""};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.tick=e.uint32();break;case 2:r.message=e.string();break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){0!==e.tick&&n.tag(1,C.TD.Varint).uint32(e.tick),""!==e.message&&n.tag(2,C.TD.LengthDelimited).string(e.message);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}new ye;class we extends R.C{constructor(){super("SetLogLevel",[{no:1,name:"logLevel",kind:"enum",T:()=>["Qroma_LogLevel",fe]}])}create(e){const n={logLevel:0};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.logLevel=e.int32();else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){0!==e.logLevel&&n.tag(1,C.TD.Varint).int32(e.logLevel);let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const Ce=new we;class Te extends R.C{constructor(){super("QromaCommConfigCommand",[{no:1,name:"setLogLevel",kind:"message",oneof:"command",T:()=>Ce}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();if(1===n)r.command={oneofKind:"setLogLevel",setLogLevel:Ce.internalBinaryRead(e,e.uint32(),t,r.command.setLogLevel)};else{let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){"setLogLevel"===e.command.oneofKind&&Ce.internalBinaryWrite(e.command.setLogLevel,n.tag(1,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const ke=new Te;class Re extends R.C{constructor(){super("QromaCommCommand",[{no:1,name:"appCommandBytes",kind:"scalar",oneof:"command",T:12},{no:2,name:"fsCommand",kind:"message",oneof:"command",T:()=>pe},{no:3,name:"commConfigCommand",kind:"message",oneof:"command",T:()=>ke}])}create(e){const n={command:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.command={oneofKind:"appCommandBytes",appCommandBytes:e.bytes()};break;case 2:r.command={oneofKind:"fsCommand",fsCommand:pe.internalBinaryRead(e,e.uint32(),t,r.command.fsCommand)};break;case 3:r.command={oneofKind:"commConfigCommand",commConfigCommand:ke.internalBinaryRead(e,e.uint32(),t,r.command.commConfigCommand)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){"appCommandBytes"===e.command.oneofKind&&n.tag(1,C.TD.LengthDelimited).bytes(e.command.appCommandBytes),"fsCommand"===e.command.oneofKind&&pe.internalBinaryWrite(e.command.fsCommand,n.tag(2,C.TD.LengthDelimited).fork(),t).join(),"commConfigCommand"===e.command.oneofKind&&ke.internalBinaryWrite(e.command.commConfigCommand,n.tag(3,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const be=new Re;class De extends R.C{constructor(){super("QromaCommResponse",[{no:1,name:"appResponseBytes",kind:"scalar",oneof:"response",T:12},{no:2,name:"fsResponse",kind:"message",oneof:"response",T:()=>ge},{no:3,name:"commConfigResponse",kind:"message",oneof:"response",T:()=>ke}])}create(e){const n={response:{oneofKind:void 0}};return globalThis.Object.defineProperty(n,k.C,{enumerable:!1,value:this}),void 0!==e&&(0,T.l)(this,n,e),n}internalBinaryRead(e,n,t,o){let r=o??this.create(),a=e.pos+n;for(;e.pos<a;){let[n,o]=e.tag();switch(n){case 1:r.response={oneofKind:"appResponseBytes",appResponseBytes:e.bytes()};break;case 2:r.response={oneofKind:"fsResponse",fsResponse:ge.internalBinaryRead(e,e.uint32(),t,r.response.fsResponse)};break;case 3:r.response={oneofKind:"commConfigResponse",commConfigResponse:ke.internalBinaryRead(e,e.uint32(),t,r.response.commConfigResponse)};break;default:let a=t.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${n} (wire type ${o}) for ${this.typeName}`);let s=e.skip(o);!1!==a&&(!0===a?C.z.onRead:a)(this.typeName,r,n,o,s)}}return r}internalBinaryWrite(e,n,t){"appResponseBytes"===e.response.oneofKind&&n.tag(1,C.TD.LengthDelimited).bytes(e.response.appResponseBytes),"fsResponse"===e.response.oneofKind&&ge.internalBinaryWrite(e.response.fsResponse,n.tag(2,C.TD.LengthDelimited).fork(),t).join(),"commConfigResponse"===e.response.oneofKind&&ke.internalBinaryWrite(e.response.commConfigResponse,n.tag(3,C.TD.LengthDelimited).fork(),t).join();let o=t.writeUnknownFields;return!1!==o&&(1==o?C.z.onWrite:o)(this.typeName,e,n),n}}const Ee=new De,Ne=e=>{const n=e.requestMessageType,[t,r]=(0,o.useState)(e.requestMessageType.create()),[a,s]=(0,o.useState)(e.requestMessageType.toJson(e.requestMessageType.create())),[i,l]=(0,o.useState)(be.create()),[c,p]=(0,o.useState)("");console.log("INIT OBJECT STATE"),console.log(a);console.log("QCC"),console.log(i);const u=e.qromaWebSerial.getIsConnected();return console.log("isQromaWebSerialConnected: "+u),o.createElement("div",null,o.createElement(w,{requestMessageType:n,messageName:"requestForm",typeName:n.typeName,fields:n.fields,onChange:(n,t)=>{console.log("REQUEST FORM CHANGE"),console.log(t);const o=JSON.parse(JSON.stringify(t));s(o),console.log("newRequestObjectData"),console.log(o);const r=e.qromaWebSerial.createQromaCommMessageForAppCommand(o);l(r);const a=be.toBinary(r),i=d.lW.from(a).toString("base64")+"\n";p(i)},key:n.typeName}),o.createElement("div",null,"App Command: ",e.requestMessageType.toJsonString(e.requestMessageType.fromJson(a))),o.createElement("div",null,"QC Command: ",be.toJsonString(i)),o.createElement("div",null,"QC Command B64: [",c,"]"),u?o.createElement("button",{onClick:()=>(async()=>{console.log("SEND COMMAND");const n=e.requestMessageType.fromJson(a),t=await e.qromaWebSerial.sendQromaAppCommand(n);console.log("REQUEST SENT"),console.log(t)})()},"Send Request"):o.createElement("button",{onClick:()=>(console.log("START CONNECTION"),e.qromaWebSerial.startMonitoring(),void console.log("CONNECTION STARTED: "+e.qromaWebSerial.getIsConnected()))},"Start Connection!"),o.createElement("button",{onClick:()=>(()=>{console.log(e.requestMessageType),console.log(a);const n=e.requestMessageType.fromJson(a),t=e.qromaWebSerial.createQromaCommMessageForAppCommand(n);console.log(t);const o=be.toBinary(t);console.log(o);const r=d.lW.from(o).toString("base64")+"\n";console.log(r),console.log(r.length),console.log("REQUEST TO QROMA B64"),console.log(n)})()},"Show Qroma Comm Message"),o.createElement("button",{onClick:()=>(()=>{const e=prompt("Enter JSON to use for message");if(e){const n=JSON.parse(e);s(n)}})()},"Load from JSON"),o.createElement("button",{onClick:()=>(()=>{const n=prompt("Enter QromaComm command binary in Base64 to use for message");if(n){const t=d.lW.from(n,"base64"),o=be.fromBinary(t);console.log(o);const r=e.requestMessageType.fromBinary(o.command.appCommandBytes);console.log(r)}})()},"Load QC Command from B64"),o.createElement("button",{onClick:()=>(()=>{const n=prompt("Enter QromaComm response binary in Base64 to use for message");if(n){const t=d.lW.from(n,"base64"),o=Ee.fromBinary(t);console.log(o);const r=e.responseMessageType.fromBinary(o.response.appResponseBytes);console.log(r)}})()},"Load QC Response from B64"),o.createElement("button",{onClick:()=>(()=>{const n=e.qromaWebSerial.createQromaCommMessageForAppCommand(t);console.log("qromaCommCommand"),console.log(n)})()},"Test"),o.createElement(m,{messageType:e.requestMessageType,messageData:t}))},Fe={initialized:!1,port:null,monitorOn:!1},Be=e=>{if(!window)throw Error("Not running in a browser");console.log("useQromaCommWebSerial");const n=window.navigator,t=n.serial;if(console.log(t),!t)throw new Error("Unable to get serial from window.navigator!");(0,o.useEffect)((()=>{(async()=>{console.log("INITIALIZING CONTEXT - "),Fe.initialized||(Fe.initialized=!0)})()}));const r=()=>{e.onConnect&&e.onConnect()},a=()=>{e.onDisconnect&&e.onDisconnect()};console.log("PREx USEEFFECT - LISTNERS"),(0,o.useEffect)((()=>(console.log("USEEFFECT - LISTENERS"),t.addEventListener("connect",r),t.addEventListener("disconnect",a),()=>{t.removeEventListener("connect",r),t.removeEventListener("disconnect",a)}))),console.log("POST USEEFFECT - LISTNERS"),globalThis.qromaInitComplete||(console.log("INITIALIZING isConnected"),globalThis.isConnected=!1),globalThis.qromaInitComplete=!0;const s=()=>(console.log("GETTING isConnected: "+globalThis.isConnected),globalThis.isConnected),i=async()=>{console.log("In requestPort()");try{if(Fe.port&&globalThis.isConnected)return Fe.port;console.log("Requesting port");const o=await n.serial.requestPort();return console.log("Port request complete"),console.log(o),await o.open({baudRate:115200}),console.log("OPEN INFO"),console.log(o.getInfo()),Fe.port=o,t=!0,console.log("SETTING isConnected: "+t),globalThis.isConnected=t,e.onPortRequestResult({success:!0}),o}catch(o){console.log("requestPort() failed"),console.log(o);const n=-1!==o.indexOf("port is already open");console.log("IS PORT OPEN?"),console.log(n),e.onPortRequestResult({success:!1})}var t},l=async e=>{const n=await i();console.log(n);const t=n.writable.getWriter();await t.write(e),t.releaseLock()};return{sendBytes:l,sendString:async e=>{const n=(new TextEncoder).encode(e);await l(n)},getIsConnected:s,startMonitoring:async()=>{if(console.log("START MONITORING: startMonitoring"),await i(),!s())return;const n=Fe.port;for(Fe.monitorOn=!0,console.log(Fe),console.log(n),console.log(n.readable);n.readable&&Fe.monitorOn;){const o=n.readable.getReader();try{const{value:n,done:t}=await o.read();if(t){Fe.monitorOn=!1,console.log("READER CANCELED");break}e.onData(n)}catch(t){}finally{o.releaseLock()}}console.log("DONE MONITORING: startMonitoring")},stopMonitoring:()=>{Fe.monitorOn=!1}}},Se=e=>{if(!window)throw Error("Not running in a browser");let n=new Uint8Array;const t=e=>{n=e};console.log("CALLING useQromaWebSerial");const o=Be({onData:o=>{console.log("QromaCommWebSerial - onData"),console.log(o);let r=new Uint8Array([...n,...o]);for(;;){let n=r.findIndex((e=>10===e));if(-1===n)return void t(r);if(0!==n)try{const t=r.slice(0,n);r=r.slice(n,r.length);const o=(new TextDecoder).decode(t);console.log("RESPONSE: "+o);const a=d.lW.from(o,"base64"),s=Ee.fromBinary(a);console.log("QromaCommWebSerial - onData has response"),console.log(s),e.onQromaCommResponse(s)}catch(a){}else r=r.slice(1,r.length)}t(r)},onConnect:e.onConnect,onDisconnect:e.onDisconnect,onPortRequestResult:n=>{n.success?(console.log("WEB SERIAL - PORT REQUEST SUCCESS"),e.onPortRequestResult(n)):(console.log("WEB SERIAL - PORT REQUEST FAIL"),e.onPortRequestResult(n))}});return{startMonitoring:async()=>{try{console.log("COMM WEB SERIAL - START"),o.startMonitoring(),console.log("COMM WEB SERIAL - START - CONNECTED")}catch(e){console.log("COMM WEB SERIAL - ON CONNECTION FALSE"),console.log(e)}},getIsConnected:o.getIsConnected,stopMonitoring:o.stopMonitoring,sendQromaCommCommand:async e=>{if(!o.getIsConnected())return console.log("sendQromaCommCommand - CAN'T SEND COMMAND - NO CONNECTION"),void console.log(e);const n=be.toBinary(e);console.log(n);const t=d.lW.from(n).toString("base64")+"\n";console.log(t),console.log(t.length),await o.sendString(t)}}},Ue=e=>{if(!window)throw Error("Not running in a browser");console.log("CALLING useQromaCommWebSerial");const n=Se({onQromaCommResponse:n=>{if(console.log("QromaAppWebSerial - onData"),console.log(n),"appResponseBytes"===n.response.oneofKind){const t=n.response.appResponseBytes,o=e.responseMessageType.fromBinary(t);if(console.log("APP RESPONSE"),console.log(o),void 0===o)return console.log("UNDEFINED APP RESPONSE BYTES"),void console.log(t);e.onQromaAppResponse(o)}},onConnect:e.onConnect,onDisconnect:e.onDisconnect,onPortRequestResult:n=>{n.success?(console.log("WEB SERIAL - PORT REQUEST SUCCESS"),e.onPortRequestResult(n)):(console.log("WEB SERIAL - PORT REQUEST FAIL"),e.onPortRequestResult(n))}});return{startMonitoring:n.startMonitoring,getIsConnected:n.getIsConnected,stopMonitoring:n.stopMonitoring,sendQromaAppCommand:async t=>{if(void 0===e.commandMessageType)throw Error("sendQromaAppCommand() failure - no commandMessageType provided on IUseQromaAppWebSerialInputs");const o={command:{oneofKind:"appCommandBytes",appCommandBytes:e.commandMessageType.toBinary(t)}};n.sendQromaCommCommand(o)},createQromaCommMessageForAppCommand:n=>{if(void 0===e.commandMessageType)throw Error("sendQromaAppCommand() failure - no commandMessageType provided on IUseQromaAppWebSerialInputs");const t=Object.keys(n)[0],o={command:{oneofKind:t,[t]:n[t]}};console.log("APP COMMAND"),console.log(o),console.log("APP MESSAGE TYPE"),console.log(e.commandMessageType);const r=e.commandMessageType.toJson(o);console.log(r);const a=e.commandMessageType.toBinary(o);console.log("BYTES DONE"),console.log(a);const s={command:{oneofKind:"appCommandBytes",appCommandBytes:a}};return console.log("QROMA COMM COMMAND READY"),console.log(s),console.log(n),s}}},Ie=e=>{let{enumInfo:n}=e;const t=n[1],r=[];for(const o in t)try{if(Number.isNaN(parseInt(o)))continue;const e=parseInt(o),n=t[e];r.push({enumInt:e,valueName:n})}catch(a){}return o.createElement("div",null,o.createElement("ul",null,r.map((e=>o.createElement("li",{key:e.valueName},e.valueName," [",e.enumInt,"]")))))},ve=e=>{let{field:n}=e;if("enum"!==n.kind)return o.createElement("div",null,"Non-enum field provided: ",n.name);const[t,r]=(0,o.useState)(!1),a=()=>o.createElement("button",{onClick:()=>r(!t)},t?"-":"+"),s=n.T();return o.createElement("div",null,n.name," [",n.kind,": ",s[0],"] ",o.createElement(a,null),t?o.createElement(Ie,{enumInfo:s}):null)},We=e=>{let{field:n}=e;return"scalar"!==n.kind?o.createElement("div",null,"Non-scalar field provided: ",n.name):o.createElement("div",null,n.name," -- [",(e=>{switch(e){case c.wx.DOUBLE:return"double";case c.wx.FLOAT:return"float";case c.wx.INT64:return"int64";case c.wx.UINT64:return"uint64";case c.wx.INT32:return"int32";case c.wx.FIXED64:return"fixed64";case c.wx.FIXED32:return"fixed32";case c.wx.BOOL:return"bool";case c.wx.STRING:return"string";case c.wx.BYTES:return"bytes";case c.wx.UINT32:return"uint32";case c.wx.SFIXED32:return"sfixed32";case c.wx.SFIXED64:return"sfixed64";case c.wx.SINT32:return"sint32";case c.wx.SINT64:return"sint64"}})(n.T),"]")},Le=e=>{let{field:n}=e;switch(n.kind){case"scalar":return o.createElement(We,{field:n});case"enum":return o.createElement(ve,{field:n});case"message":return o.createElement($e,{typeName:n.T().typeName,fields:n.T().fields})}return o.createElement("div",null,"UNCLASSIFIED: ",n.name," [",n.kind,"] - [",n.oneof,"]")},Pe=e=>{let{oneofName:n,fields:t}=e;return o.createElement(o.Fragment,null,n," [oneof]",o.createElement("ul",null,t.map((e=>o.createElement(Le,{field:e,key:e.name})))))},Oe=e=>{const n=e.fields,t=n.filter((e=>e.oneof)),r=new Map;for(var a of t){const e=a.oneof;r.has(e)?r.get(e).push(a):r.set(e,[a])}const s=[];for(let[o,l]of r)console.log(o),s.push({oneofFieldName:o,oneofFields:l});const i=n.filter((e=>!e.oneof));return o.createElement("div",null,o.createElement("ul",null,s.map((e=>o.createElement(Pe,{oneofName:e.oneofFieldName,fields:e.oneofFields,key:e.oneofFieldName})))),o.createElement("ul",null,i.map((e=>o.createElement(Le,{field:e,key:e.name})))))},$e=e=>{const[n,t]=(0,o.useState)(!1),r=()=>o.createElement("button",{onClick:()=>t(!n)},n?"-":"+");return o.createElement("div",null,o.createElement(r,null),e.typeName,n?o.createElement(o.Fragment,null,o.createElement(Oe,{messageTypeName:e.typeName,fields:e.fields}),o.createElement("button",{onClick:()=>{console.log("Make Request")}},"Make Request")):null)},Me=e=>{let{messages:n}=e;const t=n;return o.createElement(o.Fragment,null,o.createElement($e,{typeName:t.typeName,fields:t.fields,key:t.typeName}))},xe=e=>{const[n,t]=(0,o.useState)(e.responseMessageType.create()),r={onPortRequestResult:e=>{console.log("PORT REQUEST RESULT "+e.success)},responseMessageType:e.responseMessageType,onQromaCommResponse:e=>{console.log("QromaCommMonitor - onQromaCommResponse"),console.log(e)},onQromaAppResponse:e=>{console.log("QromaCommMonitor - onQromaAppResponse"),t(e)}},a=Ue(r);return null===a?o.createElement(o.Fragment,null,"Serial not supported"):o.createElement("div",null,"Qroma comm monitor",o.createElement("button",{onClick:async()=>{const e=await a.requestPort();console.log("PORT"),console.log(e),a.startMonitoring()}},"Start monitor"),o.createElement("button",{onClick:()=>{a.stopMonitoring()}},"Stop monitor"),o.createElement(m,{messageType:e.responseMessageType,messageData:n}))},Ae=e=>{const[n,t]=(0,o.useState)(!1),[r,a]=(0,o.useState)([]),[s,i]=(0,o.useState)("..."),l=e=>{let{dirPath:n,dirItem:t}=e;const r=n.endsWith("/")?"":"/",a=n+r+t.name;return console.log("DIRPATH ITEM - "+a),o.createElement("li",null,o.createElement("button",{onClick:()=>d(a)},"D: ",t.name),o.createElement("button",{onClick:()=>g(a)},"Delete"),o.createElement("button",{onClick:()=>c(a)},"Create File"))},m=e=>{let{dirPath:n,dirItem:t}=e;console.log("FILEPATH"),console.log(n),console.log(t.name);const r=n.endsWith("/")?"":"/",a=n+r+t.name;return console.log("FILEPATH ITEM - "+a),o.createElement("li",null,o.createElement("button",{onClick:()=>d("/"+t.name)},"F: ",t.name),o.createElement("button",{onClick:()=>p(a)},"Delete"),o.createElement("button",{onClick:()=>u(a)},"Show"))},d=async n=>{const t=await e.qromaCommFileSystemApi.listDir(n);t&&t.success&&(a(t.dirItems),i(t.dirPath)),console.log("DIR RESULT"),console.log(t)},c=async n=>{const t=prompt("Enter file name");if(null===t)return;const o=prompt("Enter file content");if(null===o)return;const r=n.endsWith("/")?"":"/",a=n+r+t;console.log("CREATING FILE"),console.log(a);const s=(new TextEncoder).encode(o);await e.qromaCommFileSystemApi.writeFileContents(a,s)},p=async n=>{await e.qromaCommFileSystemApi.rmFile(n)},u=async n=>{const t=await e.qromaCommFileSystemApi.getFileContents(n);if(void 0===t)return void console.log("Unable to read file contents for "+n);console.log("FILE CONTENTS"),console.log(t);const o=(new TextDecoder).decode(t.fileBytes);console.log("FILE CONTENTS"),console.log(o),alert(o)},g=async n=>{await e.qromaCommFileSystemApi.rmDir(n)},f=e=>{console.log("EXPLORER ON CONNECTION"),console.log(e),e&&t(!0)};return n?o.createElement("div",null,o.createElement("div",null,"QromaCommFileExplorerUiComponent2 - ",n?"CONNECTED":"NOT CONNECTED"),o.createElement("button",{onClick:()=>d("/")},"LIST ROOT DIR"),o.createElement("button",{onClick:()=>(async()=>{const n=prompt("Enter directory name");if(null!==n){const t=n.startsWith("/")?"":"/";await e.qromaCommFileSystemApi.mkDir(t+n)}})()},"CREATE DIR"),o.createElement("button",{onClick:()=>(async()=>{const n=prompt("Enter file path");if(null===n)return;const t=prompt("Enter file content");if(null===t)return;const o=s.endsWith("/")?"":"/",r=s+o+n,a=(new TextEncoder).encode(t);await e.qromaCommFileSystemApi.writeFileContents(r,a)})()},"CREATE FILE"),o.createElement("div",null,"DIR PATH: ",s,o.createElement("ul",null,r.map((e=>e.dirItemType===b.DIT_DIR?o.createElement(l,{dirPath:s,dirItem:e,key:e.name}):o.createElement(m,{dirPath:s,dirItem:e,key:e.name})))))):o.createElement("div",null,o.createElement("button",{onClick:()=>(async()=>{e.qromaCommFileSystemApi.init(f),console.log("INIT CALLED")})()},"START EXPLORER"))};var Ke=t(7822);const ze=async e=>new Promise((n=>setTimeout(n,e))),je=()=>{let e,n;console.log("STARTING QromaCommFileSystemApi");const t=()=>{e=void 0},o=Se({onQromaCommResponse:n=>{(n=>{e=n})(n)},onConnect:()=>{console.log("SERIAL CONNECTED")},onDisconnect:()=>{console.log("SERIAL DISCONNECTED")},onPortRequestResult:e=>{void 0!==n&&n(e.success)}}),r=async(n,t)=>{const o=Date.now()+t;for(;Date.now()<o;){if(void 0!==e){const t=n(e);if(void 0!==t)return t}await ze(25)}};return{init:e=>{n=e,o&&setTimeout((()=>{o.startMonitoring()}),0)},getFileDetails:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"reportFileDataCommand",reportFileDataCommand:{filename:e}}}}};await o.sendQromaCommCommand(n)},getFileContents:async n=>{const a={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"getFileContentsCommand",getFileContentsCommand:{filePath:n}}}}};t(),await o.sendQromaCommCommand(a);return await r((n=>{if(console.log("FILTERING"),console.log(e),"fsResponse"===n.response.oneofKind&&"getFileContentsResponse"===n.response.fsResponse.response.oneofKind)return console.log("GET FILE CONTENT SUCCESS"),n.response.fsResponse.response.getFileContentsResponse}),1e3)},writeFileContents:async(e,n)=>{const t=(0,Ke.kn)(n),r={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"writeFileDataCommand",writeFileDataCommand:{fileBytes:n,fileData:{filename:e,filesize:n.length,checksum:t}}}}}};await o.sendQromaCommCommand(r)},rmFile:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmFileCommand",rmFileCommand:{filePath:e}}}}};console.log(n),await o.sendQromaCommCommand(n)},listDir:async n=>{const a={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"listDirContentsCommand",listDirContentsCommand:{dirPath:n,startsWithConstraint:"",endsWithConstraint:""}}}}};t(),await o.sendQromaCommCommand(a);return await r((n=>{if(console.log("FILTERING"),console.log(e),"fsResponse"===n.response.oneofKind&&"listDirContentsResponse"===n.response.fsResponse.response.oneofKind)return console.log("FILTER SUCCESS"),n.response.fsResponse.response.listDirContentsResponse}),1e3)},mkDir:async n=>{const a={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"mkDirCommand",mkDirCommand:{dirPath:n}}}}};t(),o.sendQromaCommCommand(a);return await r((n=>{if(console.log("FILTERING"),console.log(e),"fsResponse"===n.response.oneofKind&&"listDirContentsResponse"===n.response.fsResponse.response.oneofKind)return console.log("FILTER SUCCESS"),n.response.fsResponse.response.listDirContentsResponse}),1e3)},rmDir:async e=>{const n={command:{oneofKind:"fsCommand",fsCommand:{command:{oneofKind:"rmDirCommand",rmDirCommand:{dirPath:e}}}}};await o.sendQromaCommCommand(n)}}},_e=()=>{const e=je();return o.createElement(Ae,{qromaCommFileSystemApi:e})}}}]);